(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{23:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(16),r=n.n(s),c=(n(23),n(0));var o=function(){return Object(c.jsx)("header",{children:Object(c.jsx)("h1",{children:"Accent"})})},l=n(4),i=n(3),d=n.n(i);function j(e){return Object(c.jsxs)("div",{className:"note",children:[Object(c.jsxs)("h1",{children:["  Property Address: ",e.address," "]}),Object(c.jsxs)("p",{children:[" Erected Board Type: ",e.board]}),Object(c.jsxs)("p",{children:[" Total Fee Charged: ",e.fee]})]})}var u=function(e){var t,n;e.fees&&(t=e.fees,n=Object(l.a)(t,1)[0]);var a=e.agentz;return a&&0!==a.length?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{className:"list-head",children:"Properties managed by Accent Estate Agents"}),a.map((function(e){return Object(c.jsx)(j,{address:e.address,board:e.board,fee:e.fee},e.id)})),e.fees&&Object(c.jsxs)("h1",{className:"total",children:["Grand Total : ",n.total,"  "]})]}):Object(c.jsx)("h2",{className:"list-head",children:" Sorry, No property managed by this client was found"})},b=n(17),h=n(18),f=["isLoading"];var O=function(e){return function(t){var n=t.isLoading,a=Object(h.a)(t,f);return n?Object(c.jsx)("p",{style:{textAlign:"center",fontSize:"30px"},children:"Hold on, fetching data!! This may take some time :)"}):Object(c.jsx)(e,Object(b.a)({},a))}};var g=function(){var e=O(u),t=Object(a.useState)({loading:!1,agents:null,fee:null}),n=Object(l.a)(t,2),s=n[0],r=n[1],o=d.a.get("/api/properties/"),i=d.a.get("/api/grandtotal/");return Object(a.useEffect)((function(){r({loading:!0}),d.a.all([o,i]).then(d.a.spread((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],s=t[1];r({loading:!1,agents:a.data,fee:s.data})}))).catch((function(e){return console.log(e)}))}),[r]),Object(c.jsx)(e,{isLoading:s.loading,agentz:s.agents,fees:s.fee})};d.a.defaults.xsrfCookieName="csrftoken",d.a.defaults.xsrfHeaderName="X-CSRFToken";var p=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!1),o=Object(l.a)(r,2),i=o[0],j=o[1],u=Object(a.useState)(!1),b=Object(l.a)(u,2),h=b[0],f=b[1];return Object(c.jsxs)("div",{children:[Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d()({method:"POST",url:"/",data:{customer:n}}).then((function(e){200===e.status?(console.log("Message Sent."),s(""),j(!0),f(!1)):console.log("Message failed to send. Kindly retry")})).catch((function(e){e.response&&(console.log(e.response),console.log(e.response.status),console.log(e.response.headers),j(!1),f(!0))}))},children:[Object(c.jsx)("input",{className:"form-control form-control-lg",type:"text",name:"searchy",placeholder:"ENTER CUSTOMER CODE e.g ACC001",value:n,onChange:function(e){var t=e.target.value;s(t)}}),Object(c.jsx)("button",{children:" Search "})]}),i&&Object(c.jsx)(g,{}),h&&Object(c.jsx)("div",{className:"repo-container",children:Object(c.jsx)("h2",{className:"list-head",children:" Sorry, No property managed by this client was found"})})]})};var x=function(){var e=(new Date).getFullYear();return Object(c.jsx)("footer",{children:Object(c.jsxs)("p",{children:["Copyright \u24d2 ",e]})})};var m=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(o,{}),Object(c.jsx)(p,{}),Object(c.jsx)(x,{})]})};r.a.render(Object(c.jsx)(m,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.5cb7345b.chunk.js.map